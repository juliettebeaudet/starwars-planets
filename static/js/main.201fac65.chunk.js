(this["webpackJsonpstarwars-planets"]=this["webpackJsonpstarwars-planets"]||[]).push([[0],{18:function(e,t,n){e.exports=n(31)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),l=n.n(r),c=n(10),u=n.n(c),i=(n(29),n(30),n(2)),o=n(3),m=n(5),s=n(4),f=function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{className:"title"},l.a.createElement("h1",null," Star Wars "),l.a.createElement("h4",null," Planets Search Engine "))}}]),n}(l.a.Component);var p=function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fetching,n=e.getInput,a=e.fullList;return l.a.createElement("div",null,!t&&l.a.createElement("div",null,l.a.createElement("h4",null,"Search for specific planet:"),l.a.createElement("input",{"data-testid":"name-filter",type:"text",name:"",onChange:function(e){return n(e.target.value)}})),l.a.createElement("button",{onClick:function(){return a("")}},"Back to full list"))}}]),n}(l.a.Component),b=Object(a.b)((function(e){return{fetching:e.planetReducer.fetching}}),(function(e){return{getInput:function(t){return e(function(e){return{type:"INPUT_NAME",input:e}}(t))},fullList:function(t){return e({type:"BACK_TO_FULL_LIST",empty:t})}}}))(p),h=n(11),d=n(8),E=function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={column:"",comparison:"",value:""},a.hChange=a.hChange.bind(Object(d.a)(a)),a.handleClick=a.handleClick.bind(Object(d.a)(a)),a}return Object(o.a)(n,[{key:"hChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(h.a)({},n,a))}},{key:"handleClick",value:function(e){var t=this.props.getNumberInput,n=this.state;t(n.column,n.comparison,n.value)}},{key:"render",value:function(){var e=this.hChange,t=this.handleClick,n=this.props,a=n.fetching,r=n.filterNumber.map((function(e){return e.column})),c=["","population","orbital_period","diameter","rotation_period","surface_water"].filter((function(e){return!r.includes(e)}));return l.a.createElement("div",null,!a&&l.a.createElement("div",null,l.a.createElement("h4",null,"Apply more filters:"),l.a.createElement("select",{name:"column","data-testid":"column-filter",onChange:e},l.a.createElement("option",{hidden:!0,disabled:!0,selected:!0,value:!0},"By Column"),c.map((function(e){return l.a.createElement("option",{key:e,value:e},e)}))),l.a.createElement("select",{name:"comparison","data-testid":"comparison-filter",onChange:e},l.a.createElement("option",{hidden:!0,disabled:!0,selected:!0,value:!0},"By Comparison"),["","more than","less than","equal to"].map((function(e){return l.a.createElement("option",{key:e,value:e},e)}))),l.a.createElement("input",{"data-testid":"value-filter",type:"number",name:"value",onChange:e,placeholder:"Insert value"}),l.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:t},"Filter")))}}]),n}(l.a.Component),y=Object(a.b)((function(e){return{fetching:e.planetReducer.fetching,filterNumber:e.filters.filterByNumericValues}}),(function(e){return{getNumberInput:function(t,n,a){return e({type:"SELECT_NUMBER",col:t,comp:n,v:a})}}}))(E),O=function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.clearAll;return l.a.createElement("button",{className:"button-clear",onClick:function(){return e()}},"Clear all filters")}}]),n}(l.a.Component),v=Object(a.b)(null,(function(e){return{clearAll:function(t){return e({type:"CLEAR"})}}}))(O),j=function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.filterNumber,n=e.cancelFilter;return l.a.createElement("div",{className:"filters-list"},l.a.createElement("h4",null," Current filters: "),t.map((function(e,t){return l.a.createElement("p",{"data-testid":"filter",className:"p-filters",key:e.column},l.a.createElement("span",null,l.a.createElement("button",{className:"red-button",onClick:function(){return n(t)}},"X"),"".concat(e.column," ").concat(e.comparison," ").concat(e.value)))})),l.a.createElement(v,null))}}]),n}(l.a.Component),N=Object(a.b)((function(e){return{filterNumber:e.filters.filterByNumericValues}}),(function(e){return{cancelFilter:function(t){return e({type:"CANCEL_FILTER",i:t})}}}))(j),g=function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Rotation period"),l.a.createElement("th",null,"Orbital period"),l.a.createElement("th",null,"Diameter"),l.a.createElement("th",null,"Climate"),l.a.createElement("th",null,"Gravity"),l.a.createElement("th",null,"Terrain"),l.a.createElement("th",null,"Surface water"),l.a.createElement("th",null,"Population")))}}]),n}(l.a.Component);var C=function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.filterName,a=e.filterNumber,r=t;return a.forEach((function(e){var t,n;t=r,r="more than"===(n=e).comparison?t.filter((function(e){return Number(e[n.column])>Number(n.value)})):"less than"===n.comparison?t.filter((function(e){return Number(e[n.column])<Number(n.value)})):"equal to"===n.comparison?t.filter((function(e){return Number(e[n.column])===Number(n.value)})):t})),l.a.createElement("tbody",{className:"planets-table"},r.filter((function(e){return e.name.toLowerCase().includes(n.name.toLowerCase())})).map((function(e){return l.a.createElement("tr",{key:e.name},l.a.createElement("td",{key:e.name},e.name),l.a.createElement("td",{key:e.rotation_period},e.rotation_period),l.a.createElement("td",{key:e.orbital_period},e.orbital_period),l.a.createElement("td",{key:e.diameter},e.diameter),l.a.createElement("td",{key:e.climate},e.climate),l.a.createElement("td",{key:e.gravity},e.gravity),l.a.createElement("td",{key:e.terrain},e.terrain),l.a.createElement("td",{key:e.surface_water},e.surface_water),l.a.createElement("td",{key:e.population},e.population))})))}}]),n}(l.a.Component),k=Object(a.b)((function(e){return{data:e.planetReducer.data,filterName:e.filters.filterByName,filterNumber:e.filters.filterByNumericValues}}),null)(C),_=function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.async)()}},{key:"render",value:function(){var e=this.props.fetching;return l.a.createElement("div",null,e&&l.a.createElement("h5",null,"Loading..."),!e&&l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement(g,null),l.a.createElement(k,null))))}}]),n}(l.a.Component),B=Object(a.b)((function(e){return{fetching:e.planetReducer.fetching,data:e.planetReducer.data}}),(function(e){return{async:function(t){return e((function(e){return e({type:"REQUEST"}),fetch("https://swapi-trybe.herokuapp.com/api/planets/").then((function(e){return e.json()})).then((function(t){return console.log(t.results),e({type:"DATA",data:t.results})}),(function(t){return e({type:"FAIL",err:t.message})}))}))}}}))(_),w=function(e){Object(m.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("p",null,"\xa9Copyright 2020"),l.a.createElement("p",null,"Project developed within ",l.a.createElement("a",{href:"https://www.betrybe.com/",target:"_blank",rel:"noopener noreferrer"},"Trybe")," School by student ",l.a.createElement("a",{href:"https://github.com/juliettebeaudet",target:"_blank",rel:"noopener noreferrer"},"Juliette Beaudet")," ."))}}]),n}(l.a.Component);var A=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement(f,null)),l.a.createElement("section",{className:"App-filters"},l.a.createElement(b,null),l.a.createElement(y,null),l.a.createElement(N,null)),l.a.createElement("section",{className:"App-section"},l.a.createElement(B,null)),l.a.createElement("section",{className:"planet-image"}),l.a.createElement("footer",{className:"App-footer"},l.a.createElement(w,null)))},L=n(7),T=n(17),R=n(9),S=n(1),I={fetching:!1,data:[],error:""};var V={filterByName:{name:""},filterByNumericValues:[]};var F=Object(L.c)({planetReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST":return Object(S.a)(Object(S.a)({},e),{},{fetching:!0});case"DATA":return Object(S.a)(Object(S.a)({},e),{},{fetching:!1,data:t.data});case"FAIL":return Object(S.a)(Object(S.a)({},e),{},{fetching:!1,error:t.err});default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_NAME":return Object(S.a)(Object(S.a)({},e),{},{filterByName:Object(S.a)(Object(S.a)({},e.filterByName),{},{name:t.input})});case"SELECT_NUMBER":return Object(S.a)(Object(S.a)({},e),{},{filterByNumericValues:[].concat(Object(R.a)(e.filterByNumericValues),[{column:t.col,comparison:t.comp,value:t.v}])});case"CANCEL_FILTER":return Object(S.a)(Object(S.a)({},e),{},{filterByNumericValues:[].concat(Object(R.a)(e.filterByNumericValues.slice(0,t.i)),Object(R.a)(e.filterByNumericValues.slice(t.i+1,e.filterByNumericValues.length)))});case"CLEAR":return Object(S.a)(Object(S.a)({},e),{},{filterByNumericValues:Object(R.a)(e.filterByNumericValues.slice(0,0))});case"BACK_TO_FULL_LIST":return Object(S.a)(Object(S.a)({},e),{},{filterByName:Object(S.a)(Object(S.a)({},e.filterByName),{},{name:t.empty})});default:return e}}}),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||L.d,M=Object(L.e)(F,U(Object(L.a)(T.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(a.a,{store:M},l.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.201fac65.chunk.js.map